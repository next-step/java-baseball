# 숫자 야구 게임



## 진행 방법
* 숫자 야구 게임 요구사항을 파악한다.
* 요구사항에 대한 구현을 완료한 후 자신의 github 아이디에 해당하는 브랜치에 Pull Request(이하 PR)를 통해 과제를 제출한다.



## 과제 제출 과정
* [과제 제출 방법](https://github.com/next-step/nextstep-docs/tree/master/precourse)



## 구현할 기능 목록

### 1. 게임의 시작
* 1) 난수를 생성한다.

### 2. 사용자 숫자입력
* 1) 숫자를 입력받는다.
* 2) 입력값의 유효성을 검증한다.
    - 입력값이 유효한 값인지를 검증한다.
    - 입력값의 길이를 검증한다.
    - 입력값의 중복여부를 검증한다.
    - 에러발생 시 2. 사용자 숫자입력 단계를 재시작한다.
    
### 3. 볼카운팅
* 1) 입력값 중 숫자가 난수에 포함되어 있으며, 위치도 정확할 시 배열의 스트라이크 방에 +1을 시킨다.
* 2) 입력값 중 숫자가 난수에 포함되어 있으나, 위치는 상이할 시 배열의 볼 방에 +1을 시킨다.

### 4. 결과 선언
* 1) 스트라이크 방의 수가 3일 시 4. 재시작여부 단계로 넘어간다.
* 2) 스트라이크 방의 수가 3이 아닐 시 볼카운트를 출력한다.
    - 스트라이크 방의 수와 볼 방의 수의 합이 0일시 "낫싱"을 출력한다.
    - 스트라이크 방의 수와 볼 방의 수의 합이 0 이상일 시 스트라이크 방의 수 + "스트라이크, " + 볼 방의 수 + "볼"을 출력시킨다.

### 5. 재시작여부
* 1) 재시작 여부를 묻고 입력값을 받아온다.
* 2) 입력값에 따라 재시작 여부를 결정짓는다.
    - 입력값이 1과 같을 시, 1. 게임의 시작 단계를 재호출한다.
    - 입력값이 2와 같을 시, 시스템을 종료시킨다.
    - 입력값이 그외일 시, 4. 재시작여부 단계를 재호출한다.


## 구현할 함수 목록

### 1. start()
* 신규 게임을 시작하는 함수.
* 난수를 생성하는 setGenerateNum() 함수를 실행시킨다.
* 숫자를 입력받는 initNum() 함수를 실행시킨다.

### 2. staticReset()
* 선언된 전역변수의 값을 초기화하는 함수.
* 전역변수인 initNum (사용자가 입력한 수)를 초기화시킨다.
* 전역변수인 ballCount (볼카운트가 들어갈 배열)을 초기화시킨다.
* 전역변수인 isError (유효성 검증 실패 여부)를 초기화시킨다.
* 전역변수인 errMsg (유효성 검증 실패 메시지)를 초기화시킨다.

### 3. throwBalls()
* 사용자로 부터 수를 입력받고 검증 후 결과를 호출하는 함수.
* 전역변수 값을 초기화시키는 staticReset() 함수를 실행시킨다.
* Scanner를 통해 입력값을 받는 requestSc(출력할 값) 함수를 실행하여 전역변수인 initNum (사용자가 입력한 수)에 셋팅한다.
* 입력받는 검증하는 valid() 함수를 실행시킨다.
* 게임의 결과를 체크하는 referee() 함수를 실행시킨다.

### 4. valid()
* 입력받은 수를 토대로 각 검증 함수를 호출하는 함수.
* 입력된 수가 유효한 숫자인지 검증하는 integerValid() 함수를 실행시킨다.
* 입력된 수의 길이가 3자리인지 검증하는 lenValid() 함수를 실행시킨다.
* 입력된 수의 중복여부를 검증하는 dupValid() 함수를 실행시킨다.
* 검증에 통과하지 못할 시에 위의 검증함수로 부터 입력된 전역변수 errMsg를 프린트 후 throwBalls() 함수를 재실행시킨다.

### 5. lenValid()
* 입력값의 길이를 판단하는 함수.
* resultValid(검증 실패 여부, 에러메시지) 함수를 호출하여 initNum (사용자가 입력한 수)가 null이 거나 3자리가 아닐 시 에러처리를 한다.

### 6. integerValid()
* 입력값이 유효한 1부터 9까지의 유효한 숫자형태인지 검증하는 함수.
* 입력받은 값을 int로 변환시켜 NumberFormatException 발생 시 resultValid(검증 실패 여부, 에러메시지) 함수를 호출시킨다.
* 입력된 수에 0여부를 검증하는 zeroValid() 함수를 실행시킨다.

### 7. zeroValid()
* 입력값에 0 여부를 검증하는 함수.
* resultValid(검증 실패 여부, 에러메시지) 함수를 호출하여 initNum (사용자가 입력한 수)에 0이 포함될 시 에러처리를 한다.

### 8. dupValid()
* 입력값에 중복값 여부를 검증는 함수.
* 입력값을 배열로 쪼갠 뒤, Arrays.asList를 통해 리스트로 형변환시킨다.
* 리스트를 루프시킨 뒤 contains 기능으로 중복된 값이 포함될 시 resultValid(검증 실패 여부, 에러메시지) 함수를 호출시킨다.

### 9. resultValid(현재 에러인지 판단하는 boolean, 에러메시지)
* 유효성 검증 결과을 셋팅하는 함수.
* 전역변수인 isError가 이미 true일 시, 리턴시켜 마무리시킨다.
* 파라미터로 받은 현재 에러인지 판단하는 boolean값이 true일 시, 에러메시지를 출력 후, 전역변수인 isError를 true로 전환한다.

### 10. setGenerateNum()
* 1부터 9까지 서로 다른수로 이루어진 3자리 수를 생성 후 전역변수에 담는 함수.
* 입력값를 담는 템프 변수를 생성한다.
* 템프 변수가 3자리가 될 때까지 루프를 돌린다.
* (루프 내) 1부터 9까지의 랜덤수를 하나 뽑는다.
* (루프 내) 랜덤수를 템프 변수에서 replace를 통해 중복 제거한다.
* (루프 내) 랜덤수를 템프 변수에 추가시킨다.
* 템프 변수를 전역변수인 cpuNum (컴퓨터 측 난수)에 셋팅한다.

### 11. referee()
* 입력받은 수를 토대로 볼카운팅 하고 그에 맞는 결과를 진행시키는 함수.
* 입력값의 길이만큼 루프를 돌려 전역변수인 ballCount (볼카운트가 들어갈 배열)에 볼카운팅 값을 저장하는 count() 함수를 실행시킨다.
* count()의 첫번째 파라미터는 루프를 돌며 잘라지는 한개의 문자를 컴퓨터가 생성한 난수에 비교한 indexOf 결과를 넣는다.
* count()의 두번째 파라미터는 현재 루프의 인덱스, 즉 현재 결과를 비교하는 자릿수를 넣는다.
* ballCount (볼카운트가 들어갈 배열)에 스트라이크 값이 3개일 시 재시작 여부를 묻는 reGame() 함수를 실행시킨다.
* 볼카운팅의 결과를 출력하는 declare() 함수를 실행시킨다.

### 12. count(잘라진 입력값를 컴퓨터가 생성한 난수에 비교한 indexOf 결과, 현재 결과를 비교하는 자릿수)
* 잘라진 입력값를 컴퓨터가 생성한 난수에 비교한 indexOf 결과가 -1일 경우 볼카운팅을 하지 않은 채로 리턴시킨다.

### 13. declare()
* 볼카운트 결과를 출력하는 함수.
* 전역변수인 ballCount (볼카운트가 들어갈 배열)의 스트라이크 방과 볼 방의 수의 합산결과가 0일시 "낫싱"을 출력시킨다.
* 그러지 않을 시 스트라이크 방의 수 + "스트라이크, " + 볼 방의 수 + "볼"을 출력시킨다.
* throwBalls()를 재 호출시킨다.

### 14. reGame()
* Scanner를 통해 입력값을 받는 requestSc(출력할 값) 함수를 실행하여 변수에 담는다.
* 변수값이 1일 경우 신규게임을 시작하는 start() 함수를 실행시킨다.
* 변수값이 2일 경우 게임을 종료하는 exit() 함수를 실행시킨다.
* 변수값이 그외 값일 경우 reGame() 함수를 재귀호출한다.

### 15. requestSc(출력할 값)
* 파라미터를 통해 전달받은 출력할 값을 출력한다.
* 전역변수로 선언 및 생성된 Scanner를 통해 입력값을 입력받고 리턴시킨다.

### 16. exit()
* 전역변수로 생성된 Scanner를 클로징한다.
* 시스템을 종료시킨다.